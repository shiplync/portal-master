<div ng-init="init()">
  <div class="panel-body detail-body">
    <form>
      <div class="row">
        <div class="col-sm-6">
          <h4>Company</h4>
          <text-form-field label-name="'Company name'" model-name="editLocation.company_name" placeholder="'Company name'" errors="fieldErrors.company_name"></text-form-field>
          <div class="field-container">
            <label class="col-sm-4 control-label">Contact name</label>
            <div class="col-sm-8">
              <div class="row"> 
                <div class="col-sm-6 form-group">
                  <input type="text" class="form-control input-sm" ng-minlength="2" ng-model="editLocation.contact.first_name" placeholder="First"/>
                </div>
                <div class="col-sm-6 form-group">
                  <input type="text" class="form-control input-sm" ng-minlength="2" ng-model="editLocation.contact.last_name" placeholder="Last"/>
                </div>
              </div>
              <div ng-repeat="err in fieldErrors.contact.first_name">
                <div class="inline-error">{{err}}</div>
              </div>
              <div ng-repeat="err in fieldErrors.contact.last_name">
                <div class="inline-error">{{err}}</div>
              </div>
            </div>
          </div>
          <text-form-field label-name="'Contact email'" model-name="editLocation.contact.email" placeholder="'E.g. joe@example.com'" errors="fieldErrors.contact.email"></text-form-field>
          <div class="field-container">
            <label class="col-sm-4 control-label">Contact phone</label>
            <div class="col-sm-8">
              <input placeholder="E.g. 555-222-5555" type="text" class="form-control input-sm" ng-model="editLocation.contact.phone" us-phone-conversion/>
              <div ng-repeat="err in fieldErrors.contact.phone">
                <div class="inline-error">{{err}}</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <h4>Address</h4>
          <text-form-field label-name="'Address'" model-name="editLocation.address_details.address" placeholder="'E.g. 123 Broadway'" errors="fieldErrors.address_details.address"></text-form-field>
          <text-form-field label-name="'Address line 2'" model-name="editLocation.address_details.address_2" placeholder="'Optional'" errors="fieldErrors.address_details.address_2"></text-form-field>
          <text-form-field label-name="'City'" model-name="editLocation.address_details.city" placeholder="'E.g. Atlanta'" errors="fieldErrors.address_details.city"></text-form-field>
          <div class="field-container">
            <label class="col-sm-4 control-label">State and Zip</label>
            <div class="col-sm-8">
              <div class="row">
                <div class="col-sm-6 form-group">
                  <select ng-model="editLocation.address_details.state" class="form-control input-sm">
                    <option value="" selected>State</option>
                    <option ng-repeat="state in stateList" value="{{state.abbreviation}}">{{state.abbreviation}}</option>
                  </select>
                </div>
                <div class="col-sm-6 form-group">
                  <input type="text" class="form-control input-sm" ng-minlength="4" ng-model="editLocation.address_details.zip_code" placeholder="Zip"/>
                </div>
              </div>
              <div ng-repeat="err in fieldErrors.address_details.state">
                <div class="inline-error">{{err}}</div>
              </div>
              <div ng-repeat="err in fieldErrors.address_details.zip_code">
                <div class="inline-error">{{err}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="panel-footer" ng-if="isAuthorized([P.changeTemplateLocation])">
    <div class="row">
      <div class="col-md-6"></div>
      <div class="col-md-3"><button class="btn btn-xs btn-danger btn-block margin-xs" disable-on-promise="removeLocation(editLocation)" ng-if="isAuthorized([P.deleteTemplateLocation])"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> Delete location</button></div>
      <div class="col-md-3"><button class="btn btn-xs btn-primary btn-block margin-xs" disable-on-promise="update()"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Save location</button></div>
    </div>
  </div>
</div>